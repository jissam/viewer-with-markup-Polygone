"use strict";
/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunkviewer"] = self["webpackChunkviewer"] || []).push([["node_modules_superviz_sdk_dist_chunks_annotation-pin-4IOE4CUH_js"],{

/***/ "./node_modules/@superviz/sdk/dist/chunks/annotation-pin-4IOE4CUH.js":
/*!***************************************************************************!*\
  !*** ./node_modules/@superviz/sdk/dist/chunks/annotation-pin-4IOE4CUH.js ***!
  \***************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   CommentsAnnotationPin: () => (/* binding */ a)\n/* harmony export */ });\n/* harmony import */ var _chunk_AY5577XS_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./chunk-AY5577XS.js */ \"./node_modules/@superviz/sdk/dist/chunks/chunk-AY5577XS.js\");\n/* harmony import */ var _chunk_UMKOLOIY_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./chunk-UMKOLOIY.js */ \"./node_modules/@superviz/sdk/dist/chunks/chunk-UMKOLOIY.js\");\n/* harmony import */ var _chunk_XDQDK5AN_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./chunk-XDQDK5AN.js */ \"./node_modules/@superviz/sdk/dist/chunks/chunk-XDQDK5AN.js\");\n/* harmony import */ var _chunk_RSMB47NK_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./chunk-RSMB47NK.js */ \"./node_modules/@superviz/sdk/dist/chunks/chunk-RSMB47NK.js\");\n/* harmony import */ var _chunk_6U6BYUHV_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./chunk-6U6BYUHV.js */ \"./node_modules/@superviz/sdk/dist/chunks/chunk-6U6BYUHV.js\");\n/* harmony import */ var _chunk_MLLFZOUT_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./chunk-MLLFZOUT.js */ \"./node_modules/@superviz/sdk/dist/chunks/chunk-MLLFZOUT.js\");\n/* harmony import */ var _chunk_WH4S5YLH_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./chunk-WH4S5YLH.js */ \"./node_modules/@superviz/sdk/dist/chunks/chunk-WH4S5YLH.js\");\n/* harmony import */ var _chunk_OQBMJDJ3_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./chunk-OQBMJDJ3.js */ \"./node_modules/@superviz/sdk/dist/chunks/chunk-OQBMJDJ3.js\");\n/* harmony import */ var _chunk_3ZCZGH34_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./chunk-3ZCZGH34.js */ \"./node_modules/@superviz/sdk/dist/chunks/chunk-3ZCZGH34.js\");\n(0,_chunk_3ZCZGH34_js__WEBPACK_IMPORTED_MODULE_8__.i)();var w=(0,_chunk_MLLFZOUT_js__WEBPACK_IMPORTED_MODULE_5__.a)(_chunk_WH4S5YLH_js__WEBPACK_IMPORTED_MODULE_6__.e),_=[w.styles,_chunk_AY5577XS_js__WEBPACK_IMPORTED_MODULE_0__.h],a=class extends w{constructor(){super();this.focusInput=()=>{var t,e;this.inputElement||(this.inputElement=(e=(t=this.shadowRoot)==null?void 0:t.querySelector(\"superviz-comments-comment-input\"))==null?void 0:e.shadowRoot.querySelector(\"textarea\")),this.inputElement.focus()};this.setInputSide=()=>{let i=this.commentsSide===\"right\"?320:0,s=this.annotationSides.right+293,r=this.containerSides.right-i;if(s<r){this.horizontalSide=\"right\";return}i=this.commentsSide===\"left\"?320:0;let l=this.annotationSides.left-293,m=this.containerSides.left+i;if(l>m){this.horizontalSide=\"left\";return}this.horizontalSide=m-l>s-r?\"right\":\"left\"};this.createComment=({detail:t})=>{this.annotationSent=!0,document.body.dispatchEvent(new CustomEvent(\"create-annotation\",{detail:(0,_chunk_3ZCZGH34_js__WEBPACK_IMPORTED_MODULE_8__.c)((0,_chunk_3ZCZGH34_js__WEBPACK_IMPORTED_MODULE_8__.b)({},t),{position:(0,_chunk_3ZCZGH34_js__WEBPACK_IMPORTED_MODULE_8__.c)((0,_chunk_3ZCZGH34_js__WEBPACK_IMPORTED_MODULE_8__.b)({},this.originalPosition),{type:\"canvas\"})})})),this.annotation=null};this.cancelTemporaryAnnotation=()=>{this.annotation=null};this.cancelTemporaryAnnotationEsc=t=>{this.annotation=null};this.avatar=()=>{if(this.type===\"add\"&&!this.showInput)return (0,_chunk_WH4S5YLH_js__WEBPACK_IMPORTED_MODULE_6__.a)`<div\n        class=\"comments__annotation-pin__avatar comments__annotation-pin__avatar--add\"\n      >\n        <superviz-icon name=\"add\"></superviz-icon>\n      </div>`;let t=this.userAvatar;return t?(0,_chunk_WH4S5YLH_js__WEBPACK_IMPORTED_MODULE_6__.a)`<div class=\"comments__annotation-pin__avatar\">\n        <img src=${t} />\n      </div>`:(0,_chunk_WH4S5YLH_js__WEBPACK_IMPORTED_MODULE_6__.a)`<div class=\"comments__annotation-pin__avatar\">\n      <p class=\"text text-bold text-big\">${this.userInitial}</p>\n    </div>`};this.input=()=>{if(!(!this.showInput||this.annotationSent))return (0,_chunk_WH4S5YLH_js__WEBPACK_IMPORTED_MODULE_6__.a)`<div class=\"floating-input\">\n      <superviz-comments-comment-input\n        @create-annotation=${this.createComment}\n        eventType=\"create-annotation\"\n        @comment-input-ready=${this.focusInput}\n        participantsList=${JSON.stringify(this.participantsList)}\n      >\n      </superviz-comments-comment-input>\n    </div>`};this.position={x:0,y:0},setTimeout(()=>{this.firstLoad=!1},800)}updated(t){super.updated(t),!(!t.has(\"movedPosition\")||!this.annotationSides)&&(this.annotationSides=this.pinAnnotation.getBoundingClientRect(),this.setInputSide(),this.inputElement&&this.focusInput())}firstUpdated(t){var e;super.firstUpdated(t),_chunk_6U6BYUHV_js__WEBPACK_IMPORTED_MODULE_4__.a.call(this,[\"comments\"]),this.showInput&&(this.originalPosition=(0,_chunk_3ZCZGH34_js__WEBPACK_IMPORTED_MODULE_8__.b)({},this.position),this.pinAnnotation=(e=this.shadowRoot)==null?void 0:e.querySelector(\".comments__annotation-pin\"),this.annotationSides=this.pinAnnotation.getBoundingClientRect(),this.setInputSide())}connectedCallback(){if(super.connectedCallback(),this.type!==\"add\")return;let{localParticipant:t}=this.useStore(\"global-store\");t.subscribe(e=>{var n;this.localAvatar=(n=e==null?void 0:e.avatar)==null?void 0:n.imageUrl,this.localName=e==null?void 0:e.name}),window.document.body.addEventListener(\"close-temporary-annotation\",this.cancelTemporaryAnnotation),window.document.body.addEventListener(\"keyup\",e=>{e.key===\"Escape\"&&this.cancelTemporaryAnnotationEsc(e)})}disconnectedCallback(){super.disconnectedCallback(),this.type===\"add\"&&(window.document.body.removeEventListener(\"close-temporary-annotation\",this.cancelTemporaryAnnotation),window.document.body.removeEventListener(\"keyup\",t=>{t.key===\"Escape\"&&this.cancelTemporaryAnnotationEsc(t)}))}get userAvatar(){var t,e,n,i;return((i=(n=(e=(t=this.annotation)==null?void 0:t.comments)==null?void 0:e.at(0))==null?void 0:n.participant)==null?void 0:i.avatar)||this.localAvatar}get userInitial(){var e,n,i,s,r;return(((r=(s=(i=(n=(e=this.annotation)==null?void 0:e.comments)==null?void 0:n.at(0))==null?void 0:i.participant)==null?void 0:s.name)!=null?r:this.localName)||\"Anonymous\")[0].toUpperCase()}emitClick(){var t;document.body.dispatchEvent(new CustomEvent(\"select-annotation\",{detail:{uuid:(t=this.annotation)==null?void 0:t.uuid}}))}render(){let t={\"comments__annotation-pin\":!0,preload:this.firstLoad===void 0,\"comments__annotation-pin--active\":this.active,\"comments__cursor-pointer\":this.type===\"add\"&&!this.showInput,\"comments__annotation-pin--add\":this.type===\"add\"&&this.showInput,[this.horizontalSide]:!0},e={\"comments__annotation-pin-wrapper\":!0,\"comments__annotation-pin-wrapper--new\":this.newPin},n=this.keepPositionRatio?\"%\":\"px\",i=`top: ${this.position.y}${n}; left: ${this.position.x}${n};`;return this.type===\"add\"?(0,_chunk_WH4S5YLH_js__WEBPACK_IMPORTED_MODULE_6__.a)`\n        <div class=${(0,_chunk_XDQDK5AN_js__WEBPACK_IMPORTED_MODULE_2__.a)(t)} style=${i}>${this.avatar()} ${this.input()}</div>\n      `:(0,_chunk_WH4S5YLH_js__WEBPACK_IMPORTED_MODULE_6__.a)`<div class=${(0,_chunk_XDQDK5AN_js__WEBPACK_IMPORTED_MODULE_2__.a)(e)} style=${i}>\n      <div @click=${this.emitClick} class=${(0,_chunk_XDQDK5AN_js__WEBPACK_IMPORTED_MODULE_2__.a)(t)}>${this.avatar()}</div>\n    </div> `}};a.styles=_,a.properties={type:{type:String},annotation:{type:Object},position:{type:Object},active:{type:Boolean},showInput:{type:Boolean},containerSides:{type:Object},horizontalSide:{type:String},commentsSide:{type:String},movedPosition:{type:String},pinAnnotation:{type:Object},localAvatar:{type:String},annotationSent:{type:Boolean},localName:{type:String},keepPositionRatio:{type:Boolean},participantsList:{type:Object},firstLoad:{type:Boolean},newPin:{type:Boolean}},a=(0,_chunk_3ZCZGH34_js__WEBPACK_IMPORTED_MODULE_8__.g)([(0,_chunk_WH4S5YLH_js__WEBPACK_IMPORTED_MODULE_6__.f)(\"superviz-comments-annotation-pin\")],a);\n//# sourceMappingURL=annotation-pin-4IOE4CUH.js.map\n\n\n//# sourceURL=webpack://viewer/./node_modules/@superviz/sdk/dist/chunks/annotation-pin-4IOE4CUH.js?");

/***/ }),

/***/ "./node_modules/@superviz/sdk/dist/chunks/chunk-6U6BYUHV.js":
/*!******************************************************************!*\
  !*** ./node_modules/@superviz/sdk/dist/chunks/chunk-6U6BYUHV.js ***!
  \******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   a: () => (/* binding */ n)\n/* harmony export */ });\n/* harmony import */ var _chunk_3ZCZGH34_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./chunk-3ZCZGH34.js */ \"./node_modules/@superviz/sdk/dist/chunks/chunk-3ZCZGH34.js\");\n(0,_chunk_3ZCZGH34_js__WEBPACK_IMPORTED_MODULE_0__.i)();function n(s){let t=document.getElementById(`superviz-${s}-styles`);if(!t)return;let e=new CSSStyleSheet;e.replaceSync(t.textContent),this.shadowRoot.adoptedStyleSheets=[...this.shadowRoot.adoptedStyleSheets,e]}\n//# sourceMappingURL=chunk-6U6BYUHV.js.map\n\n\n//# sourceURL=webpack://viewer/./node_modules/@superviz/sdk/dist/chunks/chunk-6U6BYUHV.js?");

/***/ }),

/***/ "./node_modules/@superviz/sdk/dist/chunks/chunk-RSMB47NK.js":
/*!******************************************************************!*\
  !*** ./node_modules/@superviz/sdk/dist/chunks/chunk-RSMB47NK.js ***!
  \******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   a: () => (/* binding */ $),\n/* harmony export */   b: () => (/* binding */ A),\n/* harmony export */   c: () => (/* binding */ i)\n/* harmony export */ });\n/* harmony import */ var _chunk_3ZCZGH34_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./chunk-3ZCZGH34.js */ \"./node_modules/@superviz/sdk/dist/chunks/chunk-3ZCZGH34.js\");\n(0,_chunk_3ZCZGH34_js__WEBPACK_IMPORTED_MODULE_0__.i)();var $={ATTRIBUTE:1,CHILD:2,PROPERTY:3,BOOLEAN_ATTRIBUTE:4,EVENT:5,ELEMENT:6},A=r=>(...t)=>({_$litDirective$:r,values:t}),i=class{constructor(t){}get _$AU(){return this._$AM._$AU}_$AT(t,e,T){this._$Ct=t,this._$AM=e,this._$Ci=T}_$AS(t,e){return this.update(t,e)}update(t,e){return this.render(...e)}};\n/*! Bundled license information:\n\nlit-html/directive.js:\n  (**\n   * @license\n   * Copyright 2017 Google LLC\n   * SPDX-License-Identifier: BSD-3-Clause\n   *)\n*/\n//# sourceMappingURL=chunk-RSMB47NK.js.map\n\n\n//# sourceURL=webpack://viewer/./node_modules/@superviz/sdk/dist/chunks/chunk-RSMB47NK.js?");

/***/ }),

/***/ "./node_modules/@superviz/sdk/dist/chunks/chunk-XDQDK5AN.js":
/*!******************************************************************!*\
  !*** ./node_modules/@superviz/sdk/dist/chunks/chunk-XDQDK5AN.js ***!
  \******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   a: () => (/* binding */ u)\n/* harmony export */ });\n/* harmony import */ var _chunk_RSMB47NK_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./chunk-RSMB47NK.js */ \"./node_modules/@superviz/sdk/dist/chunks/chunk-RSMB47NK.js\");\n/* harmony import */ var _chunk_WH4S5YLH_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./chunk-WH4S5YLH.js */ \"./node_modules/@superviz/sdk/dist/chunks/chunk-WH4S5YLH.js\");\n/* harmony import */ var _chunk_3ZCZGH34_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./chunk-3ZCZGH34.js */ \"./node_modules/@superviz/sdk/dist/chunks/chunk-3ZCZGH34.js\");\n(0,_chunk_3ZCZGH34_js__WEBPACK_IMPORTED_MODULE_2__.i)();var u=(0,_chunk_RSMB47NK_js__WEBPACK_IMPORTED_MODULE_0__.b)(class extends _chunk_RSMB47NK_js__WEBPACK_IMPORTED_MODULE_0__.c{constructor(s){var e;if(super(s),s.type!==_chunk_RSMB47NK_js__WEBPACK_IMPORTED_MODULE_0__.a.ATTRIBUTE||s.name!==\"class\"||((e=s.strings)==null?void 0:e.length)>2)throw Error(\"`classMap()` can only be used in the `class` attribute and must be the only part in the attribute.\")}render(s){return\" \"+Object.keys(s).filter(e=>s[e]).join(\" \")+\" \"}update(s,[e]){var i,o;if(this.st===void 0){this.st=new Set,s.strings!==void 0&&(this.nt=new Set(s.strings.join(\" \").split(/\\s/).filter(t=>t!==\"\")));for(let t in e)e[t]&&!((i=this.nt)!=null&&i.has(t))&&this.st.add(t);return this.render(e)}let n=s.element.classList;for(let t of this.st)t in e||(n.remove(t),this.st.delete(t));for(let t in e){let a=!!e[t];a===this.st.has(t)||(o=this.nt)!=null&&o.has(t)||(a?(n.add(t),this.st.add(t)):(n.remove(t),this.st.delete(t)))}return _chunk_WH4S5YLH_js__WEBPACK_IMPORTED_MODULE_1__.b}});(0,_chunk_3ZCZGH34_js__WEBPACK_IMPORTED_MODULE_2__.i)();\n/*! Bundled license information:\n\nlit-html/directives/class-map.js:\n  (**\n   * @license\n   * Copyright 2018 Google LLC\n   * SPDX-License-Identifier: BSD-3-Clause\n   *)\n*/\n//# sourceMappingURL=chunk-XDQDK5AN.js.map\n\n\n//# sourceURL=webpack://viewer/./node_modules/@superviz/sdk/dist/chunks/chunk-XDQDK5AN.js?");

/***/ })

}]);